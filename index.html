<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oiseau Erratique - 3D</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #0d0d0d;
            color: #f0f0f0;
            font-family: "Courier New", monospace;
        }
        .overlay {
            position: absolute;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.8);
            opacity: 0;
            transition: opacity 2s;
        }
    </style>
</head>
<body>
    <div class="overlay" id="overlay">ìÖÉ</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
    <script>
        // Cr√©ation de la sc√®ne 3D
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Lumi√®re
        const light = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(light);

        // Cr√©ation de sph√®res flottantes
        const spheres = [];
        const sphereGeometry = new THREE.SphereGeometry(1, 32, 32);
        const sphereMaterial = new THREE.MeshStandardMaterial({ color: 0x800000, transparent: true, opacity: 0.7 });

        for (let i = 0; i < 10; i++) {
            const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
            sphere.position.set(Math.random() * 10 - 5, Math.random() * 10 - 5, Math.random() * 10 - 5);
            scene.add(sphere);
            spheres.push(sphere);
        }

        camera.position.z = 10;

        // Variables pour √©tat de l'√©volution
        let state = parseInt(localStorage.getItem("state")) || 0;

        function evolveScene() {
            state++;
            localStorage.setItem("state", state);

            spheres.forEach((sphere) => {
                sphere.scale.set(1 + state / 20, 1 + state / 20, 1 + state / 20);
                sphere.position.x += (Math.random() - 0.5) * 0.5;
                sphere.position.y += (Math.random() - 0.5) * 0.5;
                sphere.material.color.setHex(Math.random() * 0xffffff);
            });

            const overlay = document.getElementById("overlay");
            overlay.textContent = generatePhrase();
            overlay.style.opacity = 1;
            setTimeout(() => overlay.style.opacity = 0, 5000);
        }

        function generatePhrase() {
            const beginnings = ["L'ombre", "La forme", "La fissure", "L'invisible"];
            const middles = ["s'√©tire", "s'effondre", "respire", "danse"];
            const ends = ["√† jamais", "dans le vide", "au-del√†", "en silence"];
            return `${beginnings[Math.floor(Math.random() * beginnings.length)]} ${middles[Math.floor(Math.random() * middles.length)]} ${ends[Math.floor(Math.random() * ends.length)]}.`;
        }

        function animate() {
            requestAnimationFrame(animate);

            spheres.forEach((sphere) => {
                sphere.rotation.x += 0.001;
                sphere.rotation.y += 0.001;
            });

            renderer.render(scene, camera);
        }

        // √âvolution au clic
        window.addEventListener("click", evolveScene);

        animate();
    </script>
</body>
</html>
